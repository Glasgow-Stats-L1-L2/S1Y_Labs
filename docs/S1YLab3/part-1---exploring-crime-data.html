<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Part 1 - Exploring crime data | S1Y Lab 3: Probability and the normal distribution</title>
  <meta name="description" content="Chapter 2 Part 1 - Exploring crime data | S1Y Lab 3: Probability and the normal distribution" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Part 1 - Exploring crime data | S1Y Lab 3: Probability and the normal distribution" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Part 1 - Exploring crime data | S1Y Lab 3: Probability and the normal distribution" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="part-2---probability.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="include/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome to Lab 3</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#learning-outcomes"><i class="fa fa-check"></i><b>1.1</b> Learning Outcomes</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="part-1---exploring-crime-data.html"><a href="part-1---exploring-crime-data.html"><i class="fa fa-check"></i><b>2</b> Part 1 - Exploring crime data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="part-1---exploring-crime-data.html"><a href="part-1---exploring-crime-data.html#plotting-the-data"><i class="fa fa-check"></i><b>2.1</b> Plotting the data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="part-2---probability.html"><a href="part-2---probability.html"><i class="fa fa-check"></i><b>3</b> Part 2 - Probability</a>
<ul>
<li class="chapter" data-level="3.1" data-path="part-2---probability.html"><a href="part-2---probability.html#the-normal-distribution"><i class="fa fa-check"></i><b>3.1</b> The normal distribution</a></li>
<li class="chapter" data-level="3.2" data-path="part-2---probability.html"><a href="part-2---probability.html#discrete-distributions"><i class="fa fa-check"></i><b>3.2</b> Discrete distributions</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="part-2---probability.html"><a href="part-2---probability.html#binomial"><i class="fa fa-check"></i><b>3.2.1</b> Binomial</a></li>
<li class="chapter" data-level="3.2.2" data-path="part-2---probability.html"><a href="part-2---probability.html#poisson"><i class="fa fa-check"></i><b>3.2.2</b> Poisson</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="part-2---probability.html"><a href="part-2---probability.html#optional-using-the-normal-distribution-to-approximate-a-binomial-distribution"><i class="fa fa-check"></i><b>3.3</b> Optional: Using the normal distribution to approximate a binomial distribution</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="group-exercises.html"><a href="group-exercises.html"><i class="fa fa-check"></i><b>4</b> Group Exercises</a>
<ul>
<li class="chapter" data-level="4.1" data-path="group-exercises.html"><a href="group-exercises.html#checking-the-normality-assumption"><i class="fa fa-check"></i><b>4.1</b> Checking the normality assumption</a></li>
<li class="chapter" data-level="4.2" data-path="group-exercises.html"><a href="group-exercises.html#swizzels-box"><i class="fa fa-check"></i><b>4.2</b> Swizzels box</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">S1Y Lab 3: Probability and the normal distribution</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="part-1---exploring-crime-data" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Part 1 - Exploring crime data<a href="part-1---exploring-crime-data.html#part-1---exploring-crime-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><br></p>
<p><img src="images/crime.jpg" width="300"/></p>
<p><br></p>
<p>Here, you will look at crime data from the British Crime Survey (2007-2008). In practice, such data might be helpful to identify groups in the population who are particularly vulnerable to crime or draw inferences for city planners to find ways of making citizens feel safer. Formal hypothesis tests for differences in proportions for different groups will be introduced later in the semester. Still, here, you will get an idea of how to formulate hypotheses in the first place.</p>
<p>To get started, save the data in the same folder as the <code>R</code> file you use to work on this lab (in <code>RStudio</code>), then set your working directory to that folder and load the data:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="part-1---exploring-crime-data.html#cb2-1" tabindex="-1"></a><span class="co">#set working directory to source file location </span></span>
<span id="cb2-2"><a href="part-1---exploring-crime-data.html#cb2-2" tabindex="-1"></a><span class="co">#load the RDS file:</span></span>
<span id="cb2-3"><a href="part-1---exploring-crime-data.html#cb2-3" tabindex="-1"></a>crimedata <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;crimedata.rds&quot;</span>)</span></code></pre></div>
<p>Get an impression of the dataset by looking at the first 6 rows. Recall that you can do that by calling the function <code>head()</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="part-1---exploring-crime-data.html#cb3-1" tabindex="-1"></a><span class="fu">head</span>(crimedata)</span></code></pre></div>
<p>Most variables in the dataset should be easily interpretable, but here is a brief explanation for some of the less intuitive ones:</p>
<p>• <strong>deprivation quintile</strong> : Index of multiple deprivation by quintile in England (1=20% most deprived wards)</p>
<p>• <strong>walkdark</strong> : Answer to the question "How safe do you feel walking alone after dark?".</p>
<p>• <strong>wburgl</strong> : Answer to the question "How worried are you about having your home broken into?".</p>
<p>• <strong>wmugged</strong> : Answer to the question "How worried are you about being mugged and robbed?".</p>
<p>• <strong>victim</strong> : Indicates whether or not someone was a victim of crime in the last 12 months.</p>
<p>Take a closer look at the crime dataset, then answer the following questions...</p>
<p><br></p>
<p><strong>What type of variable is age?</strong></p>
<div class="webex-solution">
<button>
Hint
</button>
<p>Here, age is recorded in full years.</p>
</div>
<div id="radio_EBQJCGPFGS" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_EBQJCGPFGS" value=""></input> <span>Numerical, continuous</span></label><label><input type="radio" autocomplete="off" name="radio_EBQJCGPFGS" value="answer"></input> <span>Numerical, discrete</span></label><label><input type="radio" autocomplete="off" name="radio_EBQJCGPFGS" value=""></input> <span>Categorical, nominal</span></label><label><input type="radio" autocomplete="off" name="radio_EBQJCGPFGS" value=""></input> <span>Categorical, ordinal</span></label>
</div>
<p><br></p>
<p><strong>What type of variable is ethnicity?</strong></p>
<div class="webex-solution">
<button>
Hint
</button>
<p>There are different groups of ethnicities and it is not plausible to put them in a particular ranking.</p>
</div>
<div id="radio_YABRPZROWE" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_YABRPZROWE" value=""></input> <span>Numerical, continuous</span></label><label><input type="radio" autocomplete="off" name="radio_YABRPZROWE" value=""></input> <span>Numerical, discrete</span></label><label><input type="radio" autocomplete="off" name="radio_YABRPZROWE" value="answer"></input> <span>Categorical, nominal</span></label><label><input type="radio" autocomplete="off" name="radio_YABRPZROWE" value=""></input> <span>Categorical, ordinal</span></label>
</div>
<p><br></p>
<p><strong>What type of variable is years_in_area?</strong></p>
<div class="webex-solution">
<button>
Hint
</button>
<p>There are different groups, and they can be ranked (for example, someone who lived in an area "10 years but less than 20 years" has lived there longer than someone who has lived there "2 years but less than 3 years").</p>
</div>
<div id="radio_GDITXHAGXV" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_GDITXHAGXV" value=""></input> <span>Numerical, continuous</span></label><label><input type="radio" autocomplete="off" name="radio_GDITXHAGXV" value=""></input> <span>Numerical, discrete</span></label><label><input type="radio" autocomplete="off" name="radio_GDITXHAGXV" value=""></input> <span>Categorical, nominal</span></label><label><input type="radio" autocomplete="off" name="radio_GDITXHAGXV" value="answer"></input> <span>Categorical, ordinal</span></label>
</div>
<p><br></p>
<p><strong>What type of variable is sex?</strong></p>
<div class="webex-solution">
<button>
Hint
</button>
<p>There are two sexes (female, male) and it is not plausible to put them in a particular ranking.</p>
</div>
<div id="radio_XRZLPNSECC" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XRZLPNSECC" value=""></input> <span>Numerical, continuous</span></label><label><input type="radio" autocomplete="off" name="radio_XRZLPNSECC" value=""></input> <span>Numerical, discrete</span></label><label><input type="radio" autocomplete="off" name="radio_XRZLPNSECC" value="answer"></input> <span>Categorical, nominal</span></label><label><input type="radio" autocomplete="off" name="radio_XRZLPNSECC" value=""></input> <span>Categorical, ordinal</span></label>
</div>
<p><br></p>
<p><strong>What type of variable is walkdark?</strong></p>
<div class="webex-solution">
<button>
Hint
</button>
<p>There are different groups and they can be ranked. For example, someone who feels "very unsafe" walking alone after dark feels less safe than someone who feels "a bit unsafe".</p>
</div>
<div id="radio_PQYKVBYWUN" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_PQYKVBYWUN" value=""></input> <span>Numerical, continuous</span></label><label><input type="radio" autocomplete="off" name="radio_PQYKVBYWUN" value=""></input> <span>Numerical, discrete</span></label><label><input type="radio" autocomplete="off" name="radio_PQYKVBYWUN" value=""></input> <span>Categorical, nominal</span></label><label><input type="radio" autocomplete="off" name="radio_PQYKVBYWUN" value="answer"></input> <span>Categorical, ordinal</span></label>
</div>
<p><br></p>
<p>The data contain 10,427 observations, which are responses from individuals to 11 questions. Since the dataset is fairly large, you can create plots to get an impression of the data and then compute frequencies as a best guess to the true population proportions for a first informal check of possible associations between variables.</p>
<div id="plotting-the-data" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Plotting the data<a href="part-1---exploring-crime-data.html#plotting-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You might be interested in how safe people feel walking alone after dark. You can create a barplot for that variable by writing the code below:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="part-1---exploring-crime-data.html#cb4-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>crimedata,<span class="fu">aes</span>(walkdark)) <span class="sc">+</span> </span>
<span id="cb4-2"><a href="part-1---exploring-crime-data.html#cb4-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span> </span>
<span id="cb4-3"><a href="part-1---exploring-crime-data.html#cb4-3" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;How safe do you feel about walking alone after dark?&quot;</span>) <span class="sc">+</span> </span>
<span id="cb4-4"><a href="part-1---exploring-crime-data.html#cb4-4" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/plot_walkdark-1.png" width="672" /></p>
<p>A lot of people seem to feel at least fairly safe when walking alone after dark, but how does that response look like for different groups of people? Below is an example showing you how to separate the responses by sex:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="part-1---exploring-crime-data.html#cb5-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>crimedata,<span class="fu">aes</span>(walkdark,<span class="at">fill=</span>sex)) <span class="sc">+</span> </span>
<span id="cb5-2"><a href="part-1---exploring-crime-data.html#cb5-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position=</span><span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span> </span>
<span id="cb5-3"><a href="part-1---exploring-crime-data.html#cb5-3" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;How safe do you feel about walking alone after dark?&quot;</span>) <span class="sc">+</span> </span>
<span id="cb5-4"><a href="part-1---exploring-crime-data.html#cb5-4" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/plot_walkdark_sex-1.png" width="672" /></p>
<p>Note that in the code above, the function <code>geom_bar()</code> creates a barplot and the argument <code>position="dodge"</code> specifies that the bars are supposed to appear side-by-side. Choosing <code>position="fill"</code> would give you a stacked barplot instead.</p>
<p><br></p>
<p><strong>How do you interpret the barplot of responses to walking alone after dark, by females and males?</strong></p>
<div id="radio_PFJODVPNLD" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_PFJODVPNLD" value="answer"></input> <span>Females tend to feel less safe than males walking alone after dark.</span></label><label><input type="radio" autocomplete="off" name="radio_PFJODVPNLD" value=""></input> <span>Males tend to feel less safe than females walking alone after dark.</span></label><label><input type="radio" autocomplete="off" name="radio_PFJODVPNLD" value=""></input> <span>The two sexes seem to feel similar about walking alone after dark.</span></label>
</div>
<p><br></p>
<p>Note that the plot shows the counts for each sex side-by-side. Since the number of female and male respondents might not be the same, it would be useful to know how many of each sex responded to the survey. You can find out via the function <code>table()</code>, as presented below:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="part-1---exploring-crime-data.html#cb6-1" tabindex="-1"></a><span class="fu">table</span>(crimedata<span class="sc">$</span>sex)</span></code></pre></div>
<pre><code>## 
##   male female 
##   4743   5684</code></pre>
<p>The survey contains quite a few more responses from females than males. Hence, we might want to see how the response to <code>walkdark</code> is split within the males and females.</p>
<p>To do so we use the following plot:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="part-1---exploring-crime-data.html#cb8-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>crimedata,<span class="fu">aes</span>(sex,<span class="at">fill=</span>walkdark)) <span class="sc">+</span> </span>
<span id="cb8-2"><a href="part-1---exploring-crime-data.html#cb8-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position=</span><span class="st">&quot;fill&quot;</span>) <span class="sc">+</span> </span>
<span id="cb8-3"><a href="part-1---exploring-crime-data.html#cb8-3" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Sex&quot;</span>) <span class="sc">+</span> </span>
<span id="cb8-4"><a href="part-1---exploring-crime-data.html#cb8-4" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Proportion&quot;</span>) <span class="sc">+</span> </span>
<span id="cb8-5"><a href="part-1---exploring-crime-data.html#cb8-5" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;How safe do you feel walking alone after dark?&quot;</span>) <span class="sc">+</span> </span>
<span id="cb8-6"><a href="part-1---exploring-crime-data.html#cb8-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill=</span><span class="st">&#39;&#39;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/plot_walkdark_sex2-1.png" width="672" /></p>
<ul>
<li><p>The argument <code>position = "fill"</code> gives you a stacked barplot</p></li>
<li><p>The line labs<code>labs(fill='')</code> remove the name of the variable <code>walkdark</code> from the legend.</p></li>
</ul>
<p><br></p>
<p>Now, you can repeat the steps above for the variables <code>deprivation_quintile</code> and <code>years_in_area</code>, then answer the questions below.</p>
<p><br></p>
<p><strong>How would you describe a possible relationship between the deprivation quantiles and how safe people feel walking alone after dark?</strong></p>
<div id="radio_ETKBKGHZIJ" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ETKBKGHZIJ" value="answer"></input> <span>It seems that the more deprived an area is, the more unsafe people feel about walking alone after dark.</span></label><label><input type="radio" autocomplete="off" name="radio_ETKBKGHZIJ" value=""></input> <span>There is no apparent relationship between deprivation and how safe people feel walking alone after dark.</span></label><label><input type="radio" autocomplete="off" name="radio_ETKBKGHZIJ" value=""></input> <span>It seems that the less deprived an area is, the more unsafe people feel about walking alone after dark.</span></label>
</div>
<p><br></p>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="part-1---exploring-crime-data.html#cb9-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>crimedata,<span class="fu">aes</span>(deprivation_quintile,<span class="at">fill=</span>walkdark)) <span class="sc">+</span> </span>
<span id="cb9-2"><a href="part-1---exploring-crime-data.html#cb9-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position=</span><span class="st">&quot;fill&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-3"><a href="part-1---exploring-crime-data.html#cb9-3" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Deprivation Quintile&quot;</span>) <span class="sc">+</span> </span>
<span id="cb9-4"><a href="part-1---exploring-crime-data.html#cb9-4" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Proportion&quot;</span>) <span class="sc">+</span></span>
<span id="cb9-5"><a href="part-1---exploring-crime-data.html#cb9-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill=</span><span class="st">&#39;&#39;</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;How safe do you feel walking alone after dark?&quot;</span>) <span class="sc">+</span> </span>
<span id="cb9-6"><a href="part-1---exploring-crime-data.html#cb9-6" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>))</span></code></pre></div>
</div>
<p><br></p>
<p><strong>How would you describe a possible relationship between the number of years people have lived in an area and how safe they feel walking alone after dark?</strong></p>
<div id="radio_UKBCSLGVKN" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_UKBCSLGVKN" value=""></input> <span>It seems that the longer a person has lived in an area, the less safe they feel about walking alone after dark.</span></label><label><input type="radio" autocomplete="off" name="radio_UKBCSLGVKN" value=""></input> <span>It seems that the longer a person has lived in an area, the more safe they feel about walking alone after dark.</span></label><label><input type="radio" autocomplete="off" name="radio_UKBCSLGVKN" value="answer"></input> <span>There is no apparent relationship between the number of years lived in an area and how safe people feel walking alone after dark.</span></label>
</div>
<p><br></p>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="part-1---exploring-crime-data.html#cb10-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>crimedata,<span class="fu">aes</span>(years_in_area,<span class="at">fill=</span>walkdark)) <span class="sc">+</span> </span>
<span id="cb10-2"><a href="part-1---exploring-crime-data.html#cb10-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position=</span><span class="st">&quot;fill&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-3"><a href="part-1---exploring-crime-data.html#cb10-3" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Years in the area&quot;</span>) <span class="sc">+</span> </span>
<span id="cb10-4"><a href="part-1---exploring-crime-data.html#cb10-4" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Proportion&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-5"><a href="part-1---exploring-crime-data.html#cb10-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">fill=</span><span class="st">&#39;&#39;</span>) <span class="sc">+</span> </span>
<span id="cb10-6"><a href="part-1---exploring-crime-data.html#cb10-6" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;How safe do you feel walking alone after dark?&quot;</span>)</span></code></pre></div>
</div>
<p><br></p>
<!-- **What can you say about possible relationships between a person's marital status and how safe they feel walking alone after dark?** 



<div class='webex-radiogroup' id='radio_BSRBECIQHU'><label><input type="radio" autocomplete="off" name="radio_BSRBECIQHU" value="answer"></input> <span>It seems that widowed people might feel more unsafe than the other groups.</span></label><label><input type="radio" autocomplete="off" name="radio_BSRBECIQHU" value=""></input> <span>It seems that single people feel more safe than the other groups.</span></label><label><input type="radio" autocomplete="off" name="radio_BSRBECIQHU" value=""></input> <span>It seems that married people feel more unsafe than single people.</span></label><label><input type="radio" autocomplete="off" name="radio_BSRBECIQHU" value=""></input> <span>There are no apparent differences by marital status for how safe people feel walking alone after dark.</span></label></div>


<br>


<div class='webex-solution'><button>Solution</button>


``` r
ggplot(data=crimedata,aes(marital_status,fill=walkdark)) + geom_bar(position="fill") +
  xlab("Marital Status") + ylab("Proportion") +
  labs(fill='') + ggtitle("How safe do you feel walking alone after dark?")
```

</div>


<br>

**How do urban and rural areas compare for how safe people feel walking alone after dark?**



<div class='webex-radiogroup' id='radio_XJXKNLAGBD'><label><input type="radio" autocomplete="off" name="radio_XJXKNLAGBD" value="answer"></input> <span>It seems that people in rural areas feel more safe.</span></label><label><input type="radio" autocomplete="off" name="radio_XJXKNLAGBD" value=""></input> <span>It seems that people in urban areas feel more safe.</span></label><label><input type="radio" autocomplete="off" name="radio_XJXKNLAGBD" value=""></input> <span>People in urban and rural areas feel similarly safe walking alone after dark.</span></label></div>


<br>


<div class='webex-solution'><button>Solution</button>


``` r
ggplot(data=crimedata,aes(urban_rural,fill=walkdark)) + geom_bar(position="fill") +
  xlab("Urban/Rural") + ylab("Proportion") +
  labs(fill='') + ggtitle("How safe do you feel walking alone after dark?")
```

</div>


<br>

To compare responses by group, it might be helpful to obtain numerical summaries. For example, the code below shows you the number of males and females who live in urban and rural areas, respectively.


``` r
table(crimedata$sex,crimedata$urban_rural)
```

```
##         
##          urban rural
##   male    3604  1139
##   female  4342  1342
```

You can compute frequencies from the table above using the following code:


``` r
sexurb <- table(crimedata$sex,crimedata$urban_rural)
#proportion of males living in urban areas: 
#value from first row and column, divided by sum of first row
sexurb[1,1]/sum(sexurb[1,])
```

```
## [1] 0.7598566
```

``` r
#proportion of females living in urban areas:
sexurb[2,1]/sum(sexurb[2,])
```

```
## [1] 0.7638987
```

Alternatively, you can first split the data into different groups and then compute the frequencies for the different datasets:


``` r
#create a dataset for females only
fem <- crimedata %>% filter(sex=="female")
#then divide the number of females living in urban areas by the number of females in total
sum(fem$urban_rural=="urban")/nrow(fem)
```

```
## [1] 0.7638987
```

<br>

**You randomly select an individual from the crime data. What is the probability that the individual is married? (Round to 4 decimal places)**


<div class='webex-solution'><button>Hint</button>


Since you select the individual randomly, this probability can be computed as the number of married individuals divided by the total number of individuals.


</div>


<input class='webex-solveme nospaces' size='6' data-answer='["0.4753",".4753"]'/>


<div class='webex-solution'><button>Solution</button>



``` r
#solution
marital <- table(crimedata$marital_status)
#probability of randomly selected individual being married:
marital[1]/sum(marital)
```

```
##   married 
## 0.4753045
```


</div>


<br>

**You randomly select a female from the crime data. What is the probability she is feeling very unsafe walking alone after dark?**


<div class='webex-solution'><button>Hint</button>


You randomly select an individual and you already know that the individual is female. Hence, the probability of her feeling very unsafe is the same as the proportion of females who feel very unsafe walking alone after dark.


</div>


<input class='webex-solveme nospaces' size='6' data-answer='["0.1728",".1728"]'/>


<div class='webex-solution'><button>Solution</button>



``` r
#solution
femdark <- table(crimedata$sex,crimedata$walkdark)
#probability of randomly selected female feeling very unsafe:
femdark[2,1]/sum(femdark[2,])
```

```
## [1] 0.1727657
```


</div>


<br>


<div class='webex-solution'><button>Optional:extra task</button>

**Compute the proportions of widowed females and widowed males who feel very unsafe walking alone after dark. Without performing a formal hypothesis test, would you suggest that these proportions differ substantially?**



<div class='webex-radiogroup' id='radio_ZEXWKENOCJ'><label><input type="radio" autocomplete="off" name="radio_ZEXWKENOCJ" value="answer"></input> <span>Yes, the proportion of people who feel very unsafe walking alone after dark appears to be higher in widowed females than widowed males.</span></label><label><input type="radio" autocomplete="off" name="radio_ZEXWKENOCJ" value=""></input> <span>Yes, the proportion of people who feel very unsafe walking alone after dark appears to be higher in widowed males than widowed females.</span></label><label><input type="radio" autocomplete="off" name="radio_ZEXWKENOCJ" value=""></input> <span>No, the proportions are about the same.</span></label></div>


<br>


<div class='webex-solution'><button>Solution</button>



``` r
#solution to the multiple choice question above
femwidowed <- crimedata %>% filter(sex=="female" & marital_status=="widowed")
#proportions of widowed females feeling very unsafe walking alone after dark
sum(femwidowed$walkdark=="very unsafe")/nrow(femwidowed)
```

```
## [1] 0.3033839
```

``` r
malwidowed <- crimedata %>% filter(sex=="male" & marital_status=="widowed")
#proportions of widowed females feeling very unsafe walking alone after dark
sum(malwidowed$walkdark=="very unsafe")/nrow(malwidowed)
```

```
## [1] 0.09459459
```


</div>



</div>


<br>-->
<p>Hopefully, this part of the lab gave you some good ideas how to use plots to gain insights for a given dataset. If you want, you can explore the crime data further by checking possible associations between other variables in the data.</p>
</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="part-2---probability.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["_main.pdf", "_main.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection",
    "scroll_highlight": true,
    "edit": null
  },
  "info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
